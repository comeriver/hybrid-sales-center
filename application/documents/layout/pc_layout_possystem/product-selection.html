<div class="xy-round-border">
                                
    <div class="pos-element-text">Search Product: </div>
    <widget parameters='{ 
        "class": "Ayoola_Form_Element_Type_SelectTwo", 
        "id": "product-xy", 
        "name": "add_product", 
        "config": { 
            "ajax": { 
                "url": "/widgets/Application_Article_Search?true_post_type=product", 
                "delay": 500
            }, 
            "placeholder": "Search by item name, code or serial number", 
            "minimumInputLength": 2,
            "width": "100%"
        },
        "onchange": "document.forms.pos.submit()"

    }'>
        <select id="{{{id}}}" class="{{{id}}}" name="{{{name}}}" onchange="{{{onchange}}}">
            <data-values>
                <values-repeat>
                    <option {{{selected}}} value="{{{key}}}">{{{value}}}</option>
                </values-repeat>
            </data-values>
        </select>
    </widget>


<hr>
<style>
    .csx-buttons
    {
        position: absolute;
        top: 30px;
        width: 100%;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: fill-available;
        display: none;
    }
    .csx-product:hover .csx-buttons
    {
        display: block;
    }
    .csx-product img.csx-image
    {
        border: 5px solid #eee;
        border-radius: 50%;
    }
    
</style>
<p>
    MOST POPULAR ITEMS 
</p>

    <div class="row" style="text-align: center;">
        <widget>
            <script type="application/json">
                { 
                    "class": "Application_Article_ShowAll", 
                    "true_post_type": "product", 
                    "length_of_title": 70, 
                    "trending": 200, 
                    "add_a_new_post": 4, 
                    "no_of_post_to_show": 8, 
                    "allow_dynamic_category_selection": true,
                    "markup_template_data_filters": { 
                        "article_title": {
                            "addcslashes": ["'"],
                            "htmlentities": [3]
                        }
                    } 
                }
            </script>

            <!--{{{0}}}
            <div class="col-md-3 csx-product">
                <a href="javascript:" data-href="{{{article_url}}}" onclick="if(this.href.includes(this.dataset.href)){ return true; } this.href=this.dataset.href;  return false;">
                    <img class="csx-image"  height="90" width="90" src="{{{document_url_uri}}}?width=90&height=90" alt="{{{article_title}}}'s photo">
                </a>
                <p class="csx-buttons">
                    <a class="btn btn-info btn-sm" href="{{{article_url}}}">Details</a>
                    <a href="javascript:" onclick="addProduct( '#{{{article_url}}}', '{{{article_title}}}' )" class="btn btn-primary btn-sm">Add to Cart</a>
                </p>
                <p>
                    <a href="javascript:" data-href="{{{article_url}}}" onclick="if(this.href.includes(this.dataset.href)){ return true; } this.href=this.dataset.href;  return false;"> 
                        {{{article_title}}} 
                    </a> <br><span style="display:inline-block;"><s> {{{item_old_price}}} </s> {{{item_price_with_currency}}} </span>
                </p>
            </div>
            {{{0}}}-->
        </widget>
    </div>
    <hr>

    <p>
        RECENT ITEMS 
    </p>

    <div class="row" style="text-align: center;">
        <widget>
            <script type="application/json">
                { 
                    "class": "Application_Article_ShowAll", 
                    "true_post_type": "product", 
                    "length_of_title": 70, 
                    "add_a_new_post": 4, 
                    "allow_dynamic_category_selection": true,
                    "no_of_post_to_show": 50, 
                    "markup_template_data_filters": { 
                        "article_title": {
                            "addcslashes": ["'"],
                            "htmlentities": [3]
                        }
                    } 
                }
            </script>
            <!--{{{0}}}
            <div class="col-md-3 csx-product">
                <a href="javascript:" data-href="{{{article_url}}}" onclick="if(this.href.includes(this.dataset.href)){ return true; } this.href=this.dataset.href;  return false;">
                    <img class="csx-image" height="90" width="90" src="{{{document_url_uri}}}?width=90&height=90" alt="{{{article_title}}}'s photo">
                </a>
                <p class="csx-buttons">
                    <a class="btn btn-info btn-sm" href="{{{article_url}}}">Details</a>
                    <a href="javascript:" onclick="addProduct( '#{{{article_url}}}', '{{{article_title}}}' )" class="btn btn-primary btn-sm">Add to Cart</a>
                </p>
                <p>
                    <a href="javascript:" data-href="{{{article_url}}}" onclick="if(this.href.includes(this.dataset.href)){ return true; } this.href=this.dataset.href;  return false;"> 
                        {{{article_title}}} 
                    </a> <br><span style="display:inline-block;"><s> {{{item_old_price}}} </s> {{{item_price_with_currency}}} </span>
                </p>
            </div>
            {{{0}}}-->
        </widget>
    </div>

</div>
<script>
    var addProduct = function( article_url, article_title )
    {
        let element = document.getElementById( "product-xy" );
        if( ! element )
        {
            return false;
        }
        var option = document.createElement("option");
        option.value = article_url;
        option.text = article_title ? article_title : article_url;
        element.add(option);

        element.value = article_url;
        element.onchange();
    }
</script>

